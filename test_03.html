<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Renewable Energy — Reading Test</title>
<style>
  :root{ --bg:#fff; --text:#111; --muted:#5b5e64; --brand:#1a73e8; --border:#e6e8ee; --panel:#0b0b0b;
         --choice:#f3f4f7; --choice-border:#dfe3ea; --choice-hover:#e9eef7; --correct:#188038; --wrong:#d93025; }
  *{box-sizing:border-box}
  body{margin:0;background:var(--bg);color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;line-height:1.6}
  .topbar{background:var(--panel);color:#fff;padding:14px 16px;position:sticky;top:0;z-index:10}
  .wrap{max-width:960px;margin:0 auto;padding:0 16px}
  .title{font-weight:800;font-size:1.05rem}.subtitle{opacity:.8;font-size:.9rem}
  main{padding:18px 0 40px}.card{border:1px solid var(--border);background:#fff;border-radius:12px;padding:16px;margin:14px 0}
  .passage{border:1px solid var(--border);border-radius:10px;padding:14px;background:#fcfdff}
  .qhead{font-weight:700;margin-top:12px}.choose{margin:10px 0 6px;font-weight:600}
  .choices{display:grid;gap:10px}.choice{display:flex;gap:12px;align-items:flex-start;padding:12px;background:var(--choice);border:1px solid var(--choice-border);border-radius:10px;cursor:pointer}
  .choice:hover{background:var(--choice-hover)}.circle{width:22px;height:22px;border:2px solid var(--choice-border);border-radius:50%;display:inline-block;margin-top:2px;flex:0 0 auto}
  input[type="radio"]{display:none}input[type="radio"]:checked + .circle{border-color:var(--brand);box-shadow:0 0 0 4px rgba(26,115,232,.15) inset}
  .nav{display:flex;gap:10px;margin-top:16px}button{border:1px solid var(--border);background:#fff;border-radius:10px;padding:10px 14px;cursor:pointer}
  button.primary{background:var(--brand);color:#fff;border-color:var(--brand)}button:disabled{opacity:.5;cursor:not-allowed}
  .resultBox{border:1px solid var(--border);background:#f7fafc;border-radius:12px;padding:16px}.good{color:var(--correct);font-weight:800}.bad{color:var(--wrong);font-weight:800}
  .pill{display:inline-block;padding:2px 8px;border-radius:999px;border:1px solid var(--border);background:#f6f7fb;font-size:.85rem;color:#333}
  .muted{color:var(--muted)} .footnote{color:var(--muted);font-size:.9rem;margin-top:10px}
  .list{display:grid;gap:10px} .tile{border:1px solid var(--border);border-radius:12px;padding:14px;background:#fff;display:flex;gap:10px;align-items:center;text-decoration:none;color:inherit}
  .tile .spacer{flex:1}
</style>
</head>
<body>
<div class="topbar"><div class="wrap"><div class="title">Renewable Energy — Reading Quiz</div><div class="subtitle">One question per page • Submit at the end</div></div></div>
<main class="wrap">

<section id="screen" class="card"></section>
<section id="results" class="card" style="display:none">
  <div class="resultBox">
    <div id="scoreLine" style="font-size:1.1rem;margin-bottom:8px"></div>
    <div id="byType" class="muted" style="margin-bottom:10px"></div>
    <details><summary style="font-weight:700;cursor:pointer">Review answers</summary><div id="review"></div></details>
    <div class="nav" style="margin-top:12px">
      <a href="index.html"><button>Back to List</button></a>
      <div class="spacer"></div>
      <button id="retryBtn">Try Again</button>
      <a href="index.html"><button class="primary">Next Quiz</button></a>
    </div>
    <div class="footnote">Scores are not uploaded; everything runs locally in the browser.</div>
  </div>
</section>
<script>
const passage = "Wind and solar power have fallen in cost, but their variability challenges electrical grids. Batteries help smooth peaks and valleys, while improved transmission moves power from sunny or windy regions to distant cities. Critics argue land use and wildlife concerns, yet research shows careful siting and community contracts can reduce conflicts and share benefits.";
const questions = [{"type": "main", "q": "What is the main idea of the passage?", "choices": ["The topic is simple and unchanging.", "One factor explains everything.", "Multiple factors and trade-offs shape outcomes.", "Only past events matter."], "answer": 2}, {"type": "detail", "q": "Which statement is supported by the passage?", "choices": ["A permanent solution already exists.", "Competing goals and limits appear in the topic.", "No risks are mentioned.", "Local conditions never matter."], "answer": 1}, {"type": "vocab", "q": "“variability” most nearly means:", "choices": ["random difference over time", "total absence", "legal permission", "visual appearance"], "answer": 0}, {"type": "ref", "q": "In “these systems require coordination,” “these systems” refers to:", "choices": ["unrelated traditions", "the networks discussed", "individual consumers only", "mountain ranges"], "answer": 1}, {"type": "inference", "q": "What can be inferred?", "choices": ["Policy choices are needed.", "Short fixes always win.", "Geography never matters.", "Data replaces judgment entirely."], "answer": 0}, {"type": "detail", "q": "Which factor is mentioned as influencing outcomes?", "choices": ["costs and constraints", "holiday schedules", "sports tournaments", "movie releases"], "answer": 0}, {"type": "vocab", "q": "“stewardship” most nearly means:", "choices": ["careful management", "rapid expansion", "punishment", "competition"], "answer": 0}, {"type": "ref", "q": "The word “they” in the passage most likely refers to:", "choices": ["the main groups described", "a single individual", "unrelated countries", "undefined objects"], "answer": 0}, {"type": "detail", "q": "Which example aligns with the passage?", "choices": ["coordination among institutions", "ignoring local conditions", "assuming infinite resources", "ending measurement"], "answer": 0}, {"type": "inference", "q": "The author’s attitude is best described as:", "choices": ["balanced and analytical", "dismissive and mocking", "panicked and alarmist", "indifferent"], "answer": 0}, {"type": "main", "q": "What is the main idea of the passage?", "choices": ["The topic is simple and unchanging.", "One factor explains everything.", "Multiple factors and trade-offs shape outcomes.", "Only past events matter."], "answer": 2}, {"type": "detail", "q": "Which one statement is supported by the passage?", "choices": ["A permanent solution already exists.", "Competing goals and limits appear in the topic.", "No risks are mentioned.", "Local conditions never matter."], "answer": 1}, {"type": "vocab", "q": "“variability” most nearly means:", "choices": ["random difference over time", "total absence", "legal permission", "visual appearance"], "answer": 0}, {"type": "ref", "q": "In “these systems require coordination,” “these systems” refers to:", "choices": ["unrelated traditions", "the networks discussed", "individual consumers only", "mountain ranges"], "answer": 1}, {"type": "inference", "q": "What can be inferred?", "choices": ["Policy choices are needed.", "Short fixes always win.", "Geography never matters.", "Data replaces judgment entirely."], "answer": 0}, {"type": "detail", "q": "Which factor is mentioned as influencing outcomes?", "choices": ["costs and constraints", "holiday schedules", "sports tournaments", "movie releases"], "answer": 0}, {"type": "vocab", "q": "“stewardship” most nearly means:", "choices": ["careful management", "rapid expansion", "punishment", "competition"], "answer": 0}, {"type": "ref", "q": "The word “they” in the passage most likely refers to:", "choices": ["the main groups described", "a single individual", "unrelated countries", "undefined objects"], "answer": 0}, {"type": "detail", "q": "Which example aligns with the passage?", "choices": ["coordination among institutions", "ignoring local conditions", "assuming infinite resources", "ending measurement"], "answer": 0}, {"type": "inference", "q": "The author’s attitude is best described as:", "choices": ["balanced and analytical", "dismissive and mocking", "panicked and alarmist", "indifferent"], "answer": 0}];
let idx=0; let answers={};
function renderQuestion(){
  const q = questions[idx]; const total = questions.length;
  const screen = document.getElementById('screen'); screen.innerHTML='';
  const box = document.createElement('div');
  box.innerHTML = `
    <div class="passage">${passage}</div>
    <div class="qhead">Question ${idx+1} of ${total} <span class="pill">${q.type.toUpperCase()}</span></div>
    <div class="choose">Choose the correct answer below.</div>
    <div class="choices"></div>
    <div class="nav">
      <a href="index.html"><button>Back to List</button></a>
      <div class="spacer"></div>
      <button id="prevBtn" ${idx===0?'disabled':''}>Previous</button>
      ${idx<total-1 ? `<button id="nextBtn" class="primary">Next</button>` : `<button id="submitBtn" class="primary">Submit</button>`}
    </div>`;
  screen.appendChild(box);
  const choices = box.querySelector('.choices');
  q.choices.forEach((txt,ci)=>{
    const row = document.createElement('label'); row.className='choice';
    row.innerHTML = `<input type="radio" name="q${idx}" value="${ci}" ${answers[idx]===ci?'checked':''}/><span class="circle"></span><div><strong>${String.fromCharCode(65+ci)}.</strong> ${txt}</div>`;
    choices.appendChild(row);
  });
  const prev = document.getElementById('prevBtn'); if(prev) prev.onclick=()=>{ if(idx>0){ idx--; renderQuestion(); } };
  const next = document.getElementById('nextBtn'); if(next) next.onclick=()=>{ const c=box.querySelector('input[name="q'+idx+'"]:checked'); if(c) answers[idx]=parseInt(c.value); idx++; renderQuestion(); };
  const submit = document.getElementById('submitBtn'); if(submit) submit.onclick=()=>{ const c=box.querySelector('input[name="q'+idx+'"]:checked'); if(c) answers[idx]=parseInt(c.value); grade(); };
  box.querySelectorAll('input[name="q'+idx+'"]').forEach(inp=> inp.onchange=(e)=>{ answers[idx]=parseInt(e.target.value); });
}
function grade(){
  const total = questions.length; let correct=0; const byType={}; const rows=[];
  questions.forEach((q,i)=>{ const chosen = answers[i]; const ok = chosen===q.answer; if(ok) correct++; rows.push({i, q:q.q, chosen, correct:q.answer, ok, type:q.type}); byType[q.type]=byType[q.type]||{c:0,t:0}; byType[q.type].t++; if(ok) byType[q.type].c++; });
  const percent = Math.round(correct/total*100);
  document.getElementById('scoreLine').innerHTML = `Your Score: <strong>${correct}/${total}</strong> <span class="${percent>=60?'good':'bad'}">(${percent}%)</span>`;
  document.getElementById('byType').innerHTML = Object.entries(byType).map(([k,v])=>`<span class="pill">${k.toUpperCase()}: ${v.c}/${v.t} (${Math.round(v.c/v.t*100)}%)</span>`).join(' ');
  const letters=['A','B','C','D'];
  document.getElementById('review').innerHTML = rows.map(r=>`
    <div style="margin:10px 0; padding:10px; border:1px solid var(--border); border-radius:10px; background:#fff">
      <div><strong>Q${r.i+1}</strong> — <span class="pill">${r.type.toUpperCase()}</span></div>
      <div class="${r.ok?'good':'bad'}" style="margin:6px 0">${r.ok?'✔ Correct':'✖ Wrong'}</div>
      <div><em>Question:</em> ${r.q}</div>
      <div><em>Your answer:</em> ${r.chosen===undefined?'—':letters[r.chosen]+'. '+questions[r.i].choices[r.chosen]}</div>
      <div><em>Correct answer:</em> ${letters[r.correct]+'. '+questions[r.i].choices[r.correct]}</div>
    </div>`).join('');
  document.getElementById('screen').style.display='none';
  document.getElementById('results').style.display='block';
  document.getElementById('retryBtn').onclick=()=>{ answers={}; idx=0; document.getElementById('results').style.display='none'; const sc=document.getElementById('screen'); sc.style.display='block'; renderQuestion(); window.scrollTo({top:0,behavior:'smooth'}); };
}
document.addEventListener('DOMContentLoaded', renderQuestion);
</script>

</main>
</body>
</html>
